
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="ie=edge" http-equiv="x-ua-compatible"/>
<meta content="Everything you need to know about (open) AEAs." name="description"/>
<link href="https://valory-xyz.github.io/open-aea/protocol/" rel="canonical"/>
<meta content="developer@fetch.ai,info@valory.xyz" name="author"/>
<meta content="Copy to clipboard" name="lang:clipboard.copy"/>
<meta content="Copied to clipboard" name="lang:clipboard.copied"/>
<meta content="en" name="lang:search.language"/>
<meta content="True" name="lang:search.pipeline.stopwords"/>
<meta content="True" name="lang:search.pipeline.trimmer"/>
<meta content="No matching documents" name="lang:search.result.none"/>
<meta content="1 matching document" name="lang:search.result.one"/>
<meta content="# matching documents" name="lang:search.result.other"/>
<meta content="[\s\-]+" name="lang:search.tokenizer"/>
<link href="../assets/images/favicon.png" rel="shortcut icon"/>
<meta content="mkdocs-1.1, mkdocs-material-4.6.3" name="generator"/>
<title>Protocols - open-aea</title>
<link href="../assets/stylesheets/application.adb8469c.css" rel="stylesheet"/>
<script src="../assets/javascripts/modernizr.86422ebf.js"></script>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
<link href="../assets/fonts/material-icons.css" rel="stylesheet"/>
<link href="../css/my-styles.css" rel="stylesheet"/>
</head>
<body dir="ltr">
<svg class="md-svg">
<defs>
<svg height="448" id="__github" viewbox="0 0 416 448" width="416" xmlns="http://www.w3.org/2000/svg"><path d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z" fill="currentColor"></path></svg>
</defs>
</svg>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<a class="md-skip" href="#components-of-a-protocol" tabindex="0">
        Skip to content
      </a>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a aria-label="open-aea" class="md-header-nav__button md-logo" href="https://valory-xyz.github.io/open-aea/" title="open-aea">
<i class="md-icon">code</i>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
              open-aea
            </span>
<span class="md-header-nav__topic">
              
                Protocols
              
            </span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a class="md-source" data-md-source="github" href="https://github.com/valory-xyz/open-aea/" title="Go to repository">
<div class="md-source__icon">
<svg height="24" viewbox="0 0 24 24" width="24">
<use height="24" width="24" xlink:href="#__github"></use>
</svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container">
<nav class="md-tabs md-tabs--active" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="..">
        Introduction
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../language-agnostic-definition/">
          Concepts
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../demos/">
          Demos
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../quickstart/">
          Development - Beginner
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../step-one/">
          Development - Advanced
        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../connect-a-frontend/">
          Development - Use Case
        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" role="main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title md-nav__title--site" for="__drawer">
<a class="md-nav__button md-logo" href="https://valory-xyz.github.io/open-aea/" title="open-aea">
<i class="md-icon">code</i>
</a>
    open-aea
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-source="github" href="https://github.com/valory-xyz/open-aea/" title="Go to repository">
<div class="md-source__icon">
<svg height="24" viewbox="0 0 24 24" width="24">
<use height="24" width="24" xlink:href="#__github"></use>
</svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href=".." title="Introduction">
      Introduction
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../version/" title="Version">
      Version
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../upgrading/" title="Upgrading">
      Upgrading
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" id="nav-4" type="checkbox"/>
<label class="md-nav__link" for="nav-4">
      Concepts
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-4">
        Concepts
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../language-agnostic-definition/" title="Language Agnostic Definition">
      Language Agnostic Definition
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../agent-oriented-development/" title="Agent-oriented development">
      Agent-oriented development
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../vision/" title="Vision">
      Vision
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../app-areas/" title="Application areas">
      Application areas
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../oef-ledger/" title="Relation to OEF and Ledger">
      Relation to OEF and Ledger
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../identity/" title="Identity">
      Identity
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../trust/" title="Trust minimisation">
      Trust minimisation
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" id="nav-5" type="checkbox"/>
<label class="md-nav__link" for="nav-5">
      Demos
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-5">
        Demos
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../demos/" title="Demos">
      Demos
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../gym-example/" title="Gym example">
      Gym example
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../gym-skill/" title="Gym skill">
      Gym skill
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tac/" title="TAC external app">
      TAC external app
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" id="nav-6" type="checkbox"/>
<label class="md-nav__link" for="nav-6">
      Development - Beginner
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-6">
        Development - Beginner
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../quickstart/" title="AEA quick start">
      AEA quick start
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../core-components-1/" title="Core components - Part 1">
      Core components - Part 1
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../aea-vs-mvc/" title="AEA and web frameworks">
      AEA and web frameworks
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../core-components-2/" title="Core components - Part 2">
      Core components - Part 2
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../interaction-protocol/" title="How AEAs talk to each other - interaction protocols">
      How AEAs talk to each other - interaction protocols
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../development-setup/" title="Development setup">
      Development setup
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-toggle md-nav__toggle" data-md-toggle="nav-7" id="nav-7" type="checkbox"/>
<label class="md-nav__link" for="nav-7">
      Development - Advanced
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-7">
        Development - Advanced
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-1" id="nav-7-1" type="checkbox"/>
<label class="md-nav__link" for="nav-7-1">
      Topic guides
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-7-1">
        Topic guides
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../step-one/" title="Ways to build an AEA">
      Ways to build an AEA
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../build-aea-step-by-step/" title="Build an AEA with the CLI">
      Build an AEA with the CLI
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../scaffolding/" title="Scaffolding packages">
      Scaffolding packages
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../protocol-generator/" title="Generating protocols">
      Generating protocols
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../logging/" title="Logging">
      Logging
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../multiplexer-standalone/" title="Use multiplexer stand-alone">
      Use multiplexer stand-alone
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../standalone-transaction/" title="Create stand-alone transaction">
      Create stand-alone transaction
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../decision-maker-transaction/" title="Create decision-maker transaction">
      Create decision-maker transaction
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../skill-testing/" title="Testing Skills">
      Testing Skills
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../deployment/" title="Deployment">
      Deployment
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../12-factor/" title="12-Factor app and AEAs">
      12-Factor app and AEAs
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../known-limits/" title="Known limitations">
      Known limitations
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../build-aea-programmatically/" title="Build an AEA programmatically">
      Build an AEA programmatically
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../agent-vs-aea/" title="AEAs vs agents">
      AEAs vs agents
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../modes/" title="Modes of running an AEA">
      Modes of running an AEA
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../generic-storage/" title="Generic Storage">
      Generic Storage
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../multi-agent-manager/" title="Multi agent manager">
      Multi agent manager
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../debug/" title="Debugging">
      Debugging
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../runtime-cost/" title="Profiling">
      Profiling
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../por/" title="Proof of Representation">
      Proof of Representation
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../security/" title="Security">
      Security
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2" id="nav-7-2" type="checkbox"/>
<label class="md-nav__link" for="nav-7-2">
      Architecture &amp; component deep-dives
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-7-2">
        Architecture &amp; component deep-dives
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../design-principles/" title="Design principles">
      Design principles
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../diagram/" title="Architectural diagram">
      Architectural diagram
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../connection/" title="Connections">
      Connections
    </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-toggle md-nav__toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Protocols
      </label>
<a class="md-nav__link md-nav__link--active" href="./" title="Protocols">
      Protocols
    </a>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#components-of-a-protocol">
    Components of a protocol
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#metadata">
    Metadata
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#contents">
    Contents
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dialogue-rules">
    Dialogue rules
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#custom-protocol">
    Custom protocol
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fetchaidefault100-protocol">
    fetchai/default:1.0.0 protocol
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fetchaioef_search100-protocol">
    fetchai/oef_search:1.0.0 protocol
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fetchaifipa100-protocol">
    fetchai/fipa:1.0.0 protocol
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#fipa-dialogue">
    Fipa dialogue
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../skill/" title="Skills">
      Skills
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../contract/" title="Contracts">
      Contracts
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../decision-maker/" title="Decision Maker">
      Decision Maker
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ledger-integration/" title="Ledger &amp; Crypto APIs">
      Ledger &amp; Crypto APIs
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../message-routing/" title="Message routing">
      Message routing
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../config/" title="Configurations">
      Configurations
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../limits/" title="Limitations of v1">
      Limitations of v1
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-3" id="nav-7-3" type="checkbox"/>
<label class="md-nav__link" for="nav-7-3">
      Agent Communication
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-7-3">
        Agent Communication
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../acn/" title="Agent Communication Network">
      Agent Communication Network
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../acn-internals/" title="ACN Internals">
      ACN Internals
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-4" id="nav-7-4" type="checkbox"/>
<label class="md-nav__link" for="nav-7-4">
      Search &amp; Discovery
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-7-4">
        Search &amp; Discovery
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../simple-oef/" title="Simple OEF">
      Simple OEF
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../defining-data-models/" title="Defining Data Models">
      Defining Data Models
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../query-language/" title="The Query Language">
      The Query Language
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../simple-oef-usage/" title="SOEF Connection">
      SOEF Connection
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-5" id="nav-7-5" type="checkbox"/>
<label class="md-nav__link" for="nav-7-5">
      Developer Interfaces
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-7-5">
        Developer Interfaces
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-5-1" id="nav-7-5-1" type="checkbox"/>
<label class="md-nav__link" for="nav-7-5-1">
      CLI
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="3">
<label class="md-nav__title" for="nav-7-5-1">
        CLI
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../cli-how-to/" title="Installation">
      Installation
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cli-commands/" title="Commands">
      Commands
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../package-imports/" title="File structure">
      File structure
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../wealth/" title="Generating wealth">
      Generating wealth
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-6" id="nav-7-6" type="checkbox"/>
<label class="md-nav__link" for="nav-7-6">
      Benchmarks
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-7-6">
        Benchmarks
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../performance-benchmark/" title="Performance benchmark">
      Performance benchmark
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7" id="nav-7-7" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7">
      API
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="2">
<label class="md-nav__title" for="nav-7-7">
        API
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/abstract_agent/" title="AbstractAgent">
      AbstractAgent
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/aea/" title="AEA">
      AEA
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/aea_builder/" title="AEA Builder">
      AEA Builder
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/agent/" title="Agent">
      Agent
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/agent_loop/" title="Agent Loop">
      Agent Loop
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/common/" title="Common">
      Common
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/exceptions/" title="Exceptions">
      Exceptions
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/launcher/" title="Launcher">
      Launcher
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/multiplexer/" title="Multiplexer">
      Multiplexer
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/runner/" title="Runner">
      Runner
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/runtime/" title="Runtime">
      Runtime
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-12" id="nav-7-7-12" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-12">
      Components
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="3">
<label class="md-nav__title" for="nav-7-7-12">
        Components
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/components/base/" title="Base">
      Base
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/components/loader/" title="Loader">
      Loader
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/components/utils/" title="Utils">
      Utils
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-13" id="nav-7-7-13" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-13">
      Configurations
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="3">
<label class="md-nav__title" for="nav-7-7-13">
        Configurations
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/configurations/base/" title="Base">
      Base
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/configurations/constants/" title="Constants">
      Constants
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/configurations/data_types/" title="Data Types">
      Data Types
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/configurations/loader/" title="Loader">
      Loader
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/configurations/manager/" title="Manager">
      Manager
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/configurations/pypi/" title="Pypi">
      Pypi
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/configurations/utils/" title="Utils">
      Utils
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/configurations/validation/" title="Validation">
      Validation
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-14" id="nav-7-7-14" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-14">
      Connections
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="3">
<label class="md-nav__title" for="nav-7-7-14">
        Connections
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/connections/base/" title="Base">
      Base
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/context/base/" title="Context">
      Context
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-16" id="nav-7-7-16" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-16">
      Contracts
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="3">
<label class="md-nav__title" for="nav-7-7-16">
        Contracts
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/contracts/base/" title="Base">
      Base
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-17" id="nav-7-7-17" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-17">
      Crypto
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="3">
<label class="md-nav__title" for="nav-7-7-17">
        Crypto
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/crypto/base/" title="Base">
      Base
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/crypto/helpers/" title="Helpers">
      Helpers
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/crypto/ledger_apis/" title="LedgerApis">
      LedgerApis
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/crypto/plugin/" title="Plugin">
      Plugin
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/crypto/wallet/" title="Wallet">
      Wallet
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-17-6" id="nav-7-7-17-6" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-17-6">
      Registries
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="4">
<label class="md-nav__title" for="nav-7-7-17-6">
        Registries
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/crypto/registries/base/" title="Base">
      Base
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-18" id="nav-7-7-18" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-18">
      Decision Maker
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="3">
<label class="md-nav__title" for="nav-7-7-18">
        Decision Maker
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/decision_maker/base/" title="Base">
      Base
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/decision_maker/default/" title="Default">
      Default
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-19" id="nav-7-7-19" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-19">
      Error Handler
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="3">
<label class="md-nav__title" for="nav-7-7-19">
        Error Handler
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/error_handler/base/" title="Base">
      Base
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/error_handler/default/" title="Default">
      Default
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-20" id="nav-7-7-20" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-20">
      Helpers
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="3">
<label class="md-nav__title" for="nav-7-7-20">
        Helpers
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-20-1" id="nav-7-7-20-1" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-20-1">
      ACN
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="4">
<label class="md-nav__title" for="nav-7-7-20-1">
        ACN
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/acn/agent_record/" title="Agent Record">
      Agent Record
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/acn/uri/" title="URI">
      URI
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/async_friendly_queue/" title="Async Friendly Queue">
      Async Friendly Queue
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/async_utils/" title="Async Utils">
      Async Utils
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/base/" title="Base">
      Base
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/constants/" title="Constants">
      Constants
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/env_vars/" title="Env Vars">
      Env Vars
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/exception_policy/" title="Exception Policy">
      Exception Policy
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/exec_timeout/" title="Exec Timeout">
      Exec Timeout
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/file_io/" title="File IO">
      File IO
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/file_lock/" title="File Lock">
      File Lock
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/http_requests/" title="HttpRequests">
      HttpRequests
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/install_dependency/" title="Install Dependency">
      Install Dependency
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/io/" title="IO">
      IO
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-20-14" id="nav-7-7-20-14" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-20-14">
      IPFS
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="4">
<label class="md-nav__title" for="nav-7-7-20-14">
        IPFS
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/ipfs/base/" title="Base">
      Base
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/ipfs/utils/" title="Utils">
      Utils
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/logging/" title="Logging">
      Logging
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-20-16" id="nav-7-7-20-16" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-20-16">
      MultiAddress
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="4">
<label class="md-nav__title" for="nav-7-7-20-16">
        MultiAddress
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/multiaddr/base/" title="Base">
      Base
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/multiple_executor/" title="MultipleExecutor">
      MultipleExecutor
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/pipe/" title="Pipe">
      Pipe
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-20-19" id="nav-7-7-20-19" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-20-19">
      Preferences
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="4">
<label class="md-nav__title" for="nav-7-7-20-19">
        Preferences
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/preference_representations/base/" title="Base">
      Base
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/profiling/" title="Profiling">
      Profiling
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-20-21" id="nav-7-7-20-21" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-20-21">
      Search
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="4">
<label class="md-nav__title" for="nav-7-7-20-21">
        Search
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/search/generic/" title="Generic">
      Generic
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/search/models/" title="Models">
      Models
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/serializers/" title="Serializers">
      Serializers
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-20-23" id="nav-7-7-20-23" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-20-23">
      Storage
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="4">
<label class="md-nav__title" for="nav-7-7-20-23">
        Storage
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/storage/generic_storage/" title="GenericStorage">
      GenericStorage
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-20-23-2" id="nav-7-7-20-23-2" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-20-23-2">
      Backends
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="5">
<label class="md-nav__title" for="nav-7-7-20-23-2">
        Backends
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/storage/backends/base/" title="Base">
      Base
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/storage/backends/sqlite/" title="Sqlite">
      Sqlite
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/sym_link/" title="Sym Link">
      Sym Link
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-20-25" id="nav-7-7-20-25" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-20-25">
      Transaction
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="4">
<label class="md-nav__title" for="nav-7-7-20-25">
        Transaction
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/transaction/base/" title="Base">
      Base
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/win32/" title="Win32">
      Win32
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/helpers/yaml_utils/" title="YamlUtils">
      YamlUtils
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/identity/base/" title="Identity">
      Identity
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/mail/base/" title="Mail">
      Mail
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-23" id="nav-7-7-23" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-23">
      Manager
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="3">
<label class="md-nav__title" for="nav-7-7-23">
        Manager
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/manager/manager/" title="Manager">
      Manager
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/manager/project/" title="Project">
      Project
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/manager/utils/" title="Utils">
      Utils
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-24" id="nav-7-7-24" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-24">
      Protocols
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="3">
<label class="md-nav__title" for="nav-7-7-24">
        Protocols
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/protocols/base/" title="Base">
      Base
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-24-2" id="nav-7-7-24-2" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-24-2">
      Dialogue
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="4">
<label class="md-nav__title" for="nav-7-7-24-2">
        Dialogue
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/protocols/dialogue/base/" title="Base">
      Base
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-24-3" id="nav-7-7-24-3" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-24-3">
      Generator
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="4">
<label class="md-nav__title" for="nav-7-7-24-3">
        Generator
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/protocols/generator/base/" title="Base">
      Base
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/protocols/generator/common/" title="Common">
      Common
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/protocols/generator/extract_specification/" title="Extract Specification">
      Extract Specification
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/protocols/generator/validate/" title="Validate">
      Validate
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-24-4" id="nav-7-7-24-4" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-24-4">
      Signing Protocol
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="4">
<label class="md-nav__title" for="nav-7-7-24-4">
        Signing Protocol
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/protocols/signing/custom_types/" title="Custom Types">
      Custom Types
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/protocols/signing/dialogues/" title="Dialogues">
      Dialogues
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/protocols/signing/message/" title="Message">
      Message
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/protocols/signing/serialization/" title="Serialization">
      Serialization
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-25" id="nav-7-7-25" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-25">
      Registries
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="3">
<label class="md-nav__title" for="nav-7-7-25">
        Registries
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/registries/base/" title="Base">
      Base
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/registries/filter/" title="Filter">
      Filter
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/registries/resources/" title="Resources">
      Resources
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-26" id="nav-7-7-26" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-26">
      Skills
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="3">
<label class="md-nav__title" for="nav-7-7-26">
        Skills
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/skills/base/" title="Base">
      Base
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/skills/behaviours/" title="Behaviors">
      Behaviors
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/skills/tasks/" title="Task">
      Task
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-27" id="nav-7-7-27" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-27">
      Test Tools
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="3">
<label class="md-nav__title" for="nav-7-7-27">
        Test Tools
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/test_tools/constants/" title="Constants">
      Constants
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/test_tools/exceptions/" title="Exceptions">
      Exceptions
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/test_tools/generic/" title="Generic">
      Generic
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/test_tools/test_cases/" title="Test Cases">
      Test Cases
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/test_tools/test_contract/" title="Test Contract">
      Test Contract
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/test_tools/test_skill/" title="Test Skill">
      Test Skill
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-28" id="nav-7-7-28" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-28">
      Plugins
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="3">
<label class="md-nav__title" for="nav-7-7-28">
        Plugins
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-28-1" id="nav-7-7-28-1" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-28-1">
      CLI
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="4">
<label class="md-nav__title" for="nav-7-7-28-1">
        CLI
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-28-1-1" id="nav-7-7-28-1-1" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-28-1-1">
      IPFS
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="5">
<label class="md-nav__title" for="nav-7-7-28-1-1">
        IPFS
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/plugins/aea_cli_ipfs/core/" title="API">
      API
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/plugins/aea_cli_ipfs/ipfs_utils/" title="Utils">
      Utils
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-28-2" id="nav-7-7-28-2" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-28-2">
      Ledger
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="4">
<label class="md-nav__title" for="nav-7-7-28-2">
        Ledger
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-28-2-1" id="nav-7-7-28-2-1" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-28-2-1">
      Cosmos
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="5">
<label class="md-nav__title" for="nav-7-7-28-2-1">
        Cosmos
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/plugins/aea_ledger_cosmos/cosmos/" title="API">
      API
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-28-2-2" id="nav-7-7-28-2-2" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-28-2-2">
      Ethereum
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="5">
<label class="md-nav__title" for="nav-7-7-28-2-2">
        Ethereum
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/plugins/aea_ledger_ethereum/ethereum/" title="API">
      API
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7-28-2-3" id="nav-7-7-28-2-3" type="checkbox"/>
<label class="md-nav__link" for="nav-7-7-28-2-3">
      Fetchai
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="5">
<label class="md-nav__title" for="nav-7-7-28-2-3">
        Fetchai
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../api/plugins/aea_ledger_fetchai/fetchai/" title="API">
      API
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/plugins/aea_ledger_fetchai/_cosmos/" title="Helper">
      Helper
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" id="nav-8" type="checkbox"/>
<label class="md-nav__link" for="nav-8">
      Development - Use Case
    </label>
<nav class="md-nav" data-md-component="collapsible" data-md-level="1">
<label class="md-nav__title" for="nav-8">
        Development - Use Case
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../connect-a-frontend/" title="Front-end intergration">
      Front-end intergration
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../http-connection-and-skill/" title="HTTP Connection">
      HTTP Connection
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../raspberry-set-up/" title="Build an AEA on a Raspberry Pi">
      Build an AEA on a Raspberry Pi
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../glossary/" title="Glossary">
      Glossary
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../questions-and-answers/" title="Q&amp;A">
      Q&amp;A
    </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#components-of-a-protocol">
    Components of a protocol
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#metadata">
    Metadata
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#contents">
    Contents
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dialogue-rules">
    Dialogue rules
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#custom-protocol">
    Custom protocol
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fetchaidefault100-protocol">
    fetchai/default:1.0.0 protocol
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fetchaioef_search100-protocol">
    fetchai/oef_search:1.0.0 protocol
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fetchaifipa100-protocol">
    fetchai/fipa:1.0.0 protocol
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#fipa-dialogue">
    Fipa dialogue
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<a class="md-icon md-content__icon" href="https://github.com/valory-xyz/open-aea/edit/master/docs/protocol.md" title="Edit this page"></a>
<h1>Protocols</h1>
<p><a href="../api/protocols/base#protocol-objects"><code>Protocols</code></a> define the structure of agent-to-agent and component-to-component interactions, which in the AEA world, are in the form of communication. To learn more about interactions and interaction protocols, see <a href="../interaction-protocol">here</a>. </p>
<p>Protocols in the AEA world provide definitions for:</p>
<ul>
<li>
<p><code>messages</code> defining the structure and syntax of messages;</p>
</li>
<li>
<p><code>serialization</code> defining how a message is encoded/decoded for transport; and optionally</p>
</li>
<li>
<p><code>dialogues</code> defining the structure of dialogues formed from exchanging series of messages.</p>
</li>
</ul>
<p><img alt="Protocol simplified" class="center" src="../assets/protocol.jpg" style="display: block; margin-left: auto; margin-right: auto;width:80%;"/></p>
<p>The framework provides a <code>default</code> protocol. This protocol provides a bare-bones implementation for an AEA protocol which includes a <a href="https://docs.fetch.ai/aea/api/protocols/default/message/#packages.fetchai.protocols.default.message" target="_blank"><code>DefaultMessage</code></a>  class and associated <a href="https://docs.fetch.ai/aea/api/protocols/default/serialization/#packages.fetchai.protocols.default.serialization" target="_blank"><code>DefaultSerializer</code></a> and <a href="https://docs.fetch.ai/aea/api/protocols/default/dialogues/#packages.fetchai.protocols.default.dialogues" target="_blank"><code>DefaultDialogue</code></a> classes.</p>
<p>Additional protocols - i.e. a new type of interaction - can be added as packages or generated with the <a href="../protocol-generator">protocol generator</a>.</p>
<p>We highly recommend you to <strong>not</strong> attempt writing your protocol manually as they tend to have involved logic; always use existing packages or the protocol generator!</p>
<h2 id="components-of-a-protocol">Components of a protocol</h2>
<p>A protocol package contains the following files:</p>
<ul>
<li><code>__init__.py</code></li>
<li><code>message.py</code>, which defines message representation</li>
<li><code>serialization.py</code>, which defines the encoding and decoding logic</li>
<li>two protobuf related files</li>
</ul>
<p>It optionally also contains</p>
<ul>
<li><code>dialogues.py</code>, which defines the structure of dialogues formed from the exchange of a series of messages</li>
<li><code>custom_types.py</code>, which defines custom types </li>
</ul>
<p>All protocols are for point to point interactions between two agents or agent-like services.</p>
<!-- ## Interaction Protocols

Protocols are not to be conflated with Interaction Protocols. The latter consist of three components in the AEA:

- Protocols: which deal with the syntax and potentially semantics of the message exchange
- Handlers: which handle incoming messages
- Behaviours: which execute pro-active patterns of one-shot, cyclic or even finite-state-machine-like type. -->
<h2 id="metadata">Metadata</h2>
<p>Each <code>Message</code> in an interaction protocol has a set of default fields:</p>
<ul>
<li><code>dialogue_reference: Tuple[str, str]</code>, a reference of the dialogue the message is part of. The first part of the tuple is the reference assigned to by the agent who first initiates the dialogue (i.e. sends the first message). The second part of the tuple is the reference assigned to by the other agent. The default value is <code>("", "")</code>.</li>
<li><code>message_id: int</code>, the identifier of the message in a dialogue. The default value is <code>1</code>.</li>
<li><code>target: int</code>, the id of the message this message is replying to. The default value is <code>0</code>.</li>
<li><code>performative: Enum</code>, the purpose/intention of the message. </li>
<li><code>sender: Address</code>, the address of the sender of this message.</li>
<li><code>to: Address</code>, the address of the receiver of this message.</li>
</ul>
<p>The default values for <code>message_id</code> and <code>target</code> assume the message is the first message in a dialogue. Therefore, the <code>message_id</code> is set to <code>1</code> indicating the first message in the dialogue and <code>target</code> is <code>0</code> since the first message is the only message that does not reply to any other.</p>
<p>By default, the values of <code>dialogue_reference</code>, <code>message_id</code>, <code>target</code> are set. However, most interactions involve more than one message being sent as part of the interaction and potentially multiple simultaneous interactions utilising the same protocol. In those cases, the <code>dialogue_reference</code> allows different interactions to be identified as such. The <code>message_id</code> and <code>target</code> are used to keep track of messages and their replies. For instance, on receiving of a message with <code>message_id=1</code> and <code>target=0</code>, the responding agent could respond with another with <code>message_id=2</code> and <code>target=1</code> replying to the first message. In particular, <code>target</code> holds the id of the message being replied to. This can be the preceding message, or an older one. </p>
<h2 id="contents">Contents</h2>
<p>Each message may optionally have any number of contents of varying types. </p>
<h2 id="dialogue-rules">Dialogue rules</h2>
<p>Protocols can optionally have a dialogue module. A <em>dialogue</em>, respectively <em>dialogues</em> object, maintains the state of a single, respectively, all dialogues associated with a protocol.</p>
<p>The framework provides a number of helpful classes which implement most of the logic to maintain dialogues, namely the <a href="../api/protocols/dialogue/base#dialogue-objects"><code>Dialogue</code></a> and <a href="../api/protocols/dialogue/base#dialogues-objects"><code>Dialogues</code></a> base classes.</p>
<h2 id="custom-protocol">Custom protocol</h2>
<p>The developer can generate custom protocols with the <a href="../protocol-generator">protocol generator</a>. This lets the developer specify the speech-acts as well as optionally the dialogue structure (e.g. roles of agents participating in a dialogue, the states a dialogue may end in, and the reply structure of the speech-acts in a dialogue).</p>
<p>We highly recommend you <strong>do not</strong> attempt to write your own protocol code; always use existing packages or the protocol generator!</p>
<h2 id="fetchaidefault100-protocol"><code>fetchai/default:1.0.0</code> protocol</h2>
<p>The <code>fetchai/default:1.0.0</code> protocol is meant to be implemented by every AEA. It serves AEA to AEA interaction and includes three message performatives:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>

<span class="k">class</span> <span class="nc">Performative</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="sd">"""Performatives for the default protocol."""</span>

    <span class="n">BYTES</span> <span class="o">=</span> <span class="s2">"bytes"</span>
    <span class="n">END</span> <span class="o">=</span> <span class="s2">"end"</span>
    <span class="n">ERROR</span> <span class="o">=</span> <span class="s2">"error"</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Get the string representation."""</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>
</code></pre></div>
<ul>
<li>
<p>The <code>DefaultMessage</code> of performative <code>DefaultMessage.Performative.BYTES</code> is used to send payloads of byte strings to other AEAs. An example is:
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">packages.fetchai.protocols.default.message</span> <span class="kn">import</span> <span class="n">DefaultMessage</span>

<span class="n">msg</span> <span class="o">=</span> <span class="n">DefaultMessage</span><span class="p">(</span>
    <span class="n">performative</span><span class="o">=</span><span class="n">DefaultMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">BYTES</span><span class="p">,</span>
    <span class="n">content</span><span class="o">=</span><span class="sa">b</span><span class="s2">"This is a bytes payload"</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p>The <code>DefaultMessage</code> of performative <code>DefaultMessage.Performative.ERROR</code> is used to notify other AEAs of errors in an interaction, including errors with other protocols, by including an <code>error_code</code> in the payload:
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">ErrorCode</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="sd">"""This class represents an instance of ErrorCode."""</span>

    <span class="n">UNSUPPORTED_PROTOCOL</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">DECODING_ERROR</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">INVALID_MESSAGE</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">UNSUPPORTED_SKILL</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">INVALID_DIALOGUE</span> <span class="o">=</span> <span class="mi">4</span>
</code></pre></div>
An example is:
<div class="highlight"><pre><span></span><code><span class="n">msg</span> <span class="o">=</span> <span class="n">DefaultMessage</span><span class="p">(</span>
    <span class="n">performative</span><span class="o">=</span><span class="n">DefaultMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">ERROR</span><span class="p">,</span>
    <span class="n">error_code</span><span class="o">=</span><span class="n">DefaultMessage</span><span class="o">.</span><span class="n">ErrorCode</span><span class="o">.</span><span class="n">UNSUPPORTED_PROTOCOL</span><span class="p">,</span>
    <span class="n">error_msg</span><span class="o">=</span><span class="s2">"This protocol is not supported by this AEA."</span><span class="p">,</span>
    <span class="n">error_data</span><span class="o">=</span><span class="p">{</span><span class="s2">"unsupported_msg"</span><span class="p">:</span> <span class="sa">b</span><span class="s2">"serialized unsupported protocol message"</span><span class="p">},</span>
<span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p>The <code>DefaultMessage</code> of performative <code>DefaultMessage.Performative.END</code> is used to terminate a default protocol dialogue. An example is:
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">packages.fetchai.protocols.default.message</span> <span class="kn">import</span> <span class="n">DefaultMessage</span>

<span class="n">msg</span> <span class="o">=</span> <span class="n">DefaultMessage</span><span class="p">(</span>
    <span class="n">performative</span><span class="o">=</span><span class="n">DefaultMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">END</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></p>
</li>
</ul>
<p>Each AEA's <code>fetchai/error:0.17.0</code> skill utilises the <code>fetchai/default:1.0.0</code> protocol for error handling.</p>
<h2 id="fetchaioef_search100-protocol"><code>fetchai/oef_search:1.0.0</code> protocol</h2>
<p>The <code>fetchai/oef_search:1.0.0</code> protocol is used by AEAs to interact with an <a href="../simple-oef">SOEF search node</a> to register and unregister their own services and search for services registered by other agents.</p>
<p>The <code>fetchai/oef_search:1.0.0</code> protocol definition includes an <code>OefSearchMessage</code> with the following message types:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Performative</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>

    <span class="sd">"""Performatives for the oef_search protocol."""</span>
    <span class="n">REGISTER_SERVICE</span> <span class="o">=</span> <span class="s2">"register_service"</span>
    <span class="n">UNREGISTER_SERVICE</span> <span class="o">=</span> <span class="s2">"unregister_service"</span>
    <span class="n">SEARCH_SERVICES</span> <span class="o">=</span> <span class="s2">"search_services"</span>
    <span class="n">OEF_ERROR</span> <span class="o">=</span> <span class="s2">"oef_error"</span>
    <span class="n">SEARCH_RESULT</span> <span class="o">=</span> <span class="s2">"search_result"</span>
    <span class="n">SUCCESS</span> <span class="o">=</span> <span class="s2">"success"</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Get string representation."""</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>
</code></pre></div>
<p>We show some example messages below:</p>
<ul>
<li>
<p>To register a service, we require a reference to the dialogue in string form (used to keep different dialogues apart), for instance
<div class="highlight"><pre><span></span><code><span class="n">my_dialogue_reference</span> <span class="o">=</span> <span class="s2">"a_unique_register_service_dialogue_reference"</span>
</code></pre></div>
and a description of the service we would like to register, for instance
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">aea.helpers.search.models</span> <span class="kn">import</span> <span class="n">Description</span>

<span class="n">my_service_data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"country"</span><span class="p">:</span> <span class="s2">"UK"</span><span class="p">,</span> <span class="s2">"city"</span><span class="p">:</span> <span class="s2">"Cambridge"</span><span class="p">}</span>
<span class="n">my_service_description</span> <span class="o">=</span> <span class="n">Description</span><span class="p">(</span>
    <span class="n">my_service_data</span><span class="p">,</span>
    <span class="n">data_model</span><span class="o">=</span><span class="n">my_data_model</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
where we use, for instance
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">aea.helpers.search.generic</span> <span class="kn">import</span> <span class="n">GenericDataModel</span>

<span class="n">data_model_name</span> <span class="o">=</span> <span class="s2">"location"</span>
<span class="n">data_model</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"attribute_one"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"country"</span><span class="p">,</span>
        <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"str"</span><span class="p">,</span>
        <span class="s2">"is_required"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="s2">"attribute_two"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"city"</span><span class="p">,</span>
        <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"str"</span><span class="p">,</span>
        <span class="s2">"is_required"</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
<span class="n">my_data_model</span> <span class="o">=</span> <span class="n">GenericDataModel</span><span class="p">(</span><span class="n">data_model_name</span><span class="p">,</span> <span class="n">data_model</span><span class="p">)</span>
</code></pre></div>
We can then create the message to register this service:
<div class="highlight"><pre><span></span><code><span class="n">msg</span> <span class="o">=</span> <span class="n">OefSearchMessage</span><span class="p">(</span>
    <span class="n">performative</span><span class="o">=</span><span class="n">OefSearchMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">REGISTER_SERVICE</span><span class="p">,</span>
    <span class="n">dialogue_reference</span><span class="o">=</span><span class="p">(</span><span class="n">my_dialogue_reference</span><span class="p">,</span> <span class="s2">""</span><span class="p">),</span>
    <span class="n">service_description</span><span class="o">=</span><span class="n">my_service_description</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p>To unregister a service, we require a reference to the dialogue in string form, for instance
<div class="highlight"><pre><span></span><code><span class="n">my_dialogue_reference</span> <span class="o">=</span> <span class="s2">"a_unique_unregister_service_dialogue_reference"</span>
</code></pre></div>
the description of the service we would like to unregister, say <code>my_service_description</code> from above and construct the message:
<div class="highlight"><pre><span></span><code><span class="n">msg</span> <span class="o">=</span> <span class="n">OefSearchMessage</span><span class="p">(</span>
    <span class="n">performative</span><span class="o">=</span><span class="n">OefSearchMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">UNREGISTER_SERVICE</span><span class="p">,</span>
    <span class="n">dialogue_reference</span><span class="o">=</span><span class="p">(</span><span class="n">my_dialogue_reference</span><span class="p">,</span> <span class="s2">""</span><span class="p">),</span>
    <span class="n">service_description</span><span class="o">=</span><span class="n">my_service_description</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p>To search a service, we similarly require a reference to the dialogue in string form, and then the query we would like the search node to evaluate, for instance
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">aea.helpers.search.models</span> <span class="kn">import</span> <span class="n">Constraint</span><span class="p">,</span> <span class="n">ConstraintType</span><span class="p">,</span> <span class="n">Query</span>

<span class="n">query_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"search_term"</span><span class="p">:</span> <span class="s2">"country"</span><span class="p">,</span>
    <span class="s2">"search_value"</span><span class="p">:</span> <span class="s2">"UK"</span><span class="p">,</span>
    <span class="s2">"constraint_type"</span><span class="p">:</span> <span class="s2">"=="</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">query</span> <span class="o">=</span> <span class="n">Query</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="n">Constraint</span><span class="p">(</span>
            <span class="n">query_data</span><span class="p">[</span><span class="s2">"search_term"</span><span class="p">],</span>
            <span class="n">ConstraintType</span><span class="p">(</span>
                <span class="n">query_data</span><span class="p">[</span><span class="s2">"constraint_type"</span><span class="p">],</span>
                <span class="n">query_data</span><span class="p">[</span><span class="s2">"search_value"</span><span class="p">],</span>
            <span class="p">),</span>
        <span class="p">)</span>
    <span class="p">],</span>
    <span class="n">model</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
We can then create the message to search these services:
<div class="highlight"><pre><span></span><code><span class="n">oef_msg</span> <span class="o">=</span> <span class="n">OefSearchMessage</span><span class="p">(</span>
    <span class="n">performative</span><span class="o">=</span><span class="n">OefSearchMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">SEARCH_SERVICES</span><span class="p">,</span>
    <span class="n">dialogue_reference</span><span class="o">=</span><span class="p">(</span><span class="n">my_dialogue_reference</span><span class="p">,</span> <span class="s2">""</span><span class="p">),</span>
    <span class="n">query</span><span class="o">=</span><span class="n">query</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></p>
</li>
<li>
<p>The <a href="../simple-oef">SOEF search node</a> will respond with a message <code>msg</code> of type <code>OefSearchMessage</code> with performative <code>OefSearchMessage.Performative.SEARCH_RESULT</code>. To access the tuple of agents which match the query, simply use <code>msg.agents</code>. In particular, this will return the agent addresses matching the query. The <a href="../identity">agent address</a> can then be used to send a message to the agent utilising the <a href="../oef-ledger">P2P agent communication network</a> and any protocol other than <code>fetchai/oef_search:1.0.0</code>.</p>
</li>
<li>
<p>If the <a href="../simple-oef">SOEF search node</a> encounters any errors with the messages you send, it will return an <code>OefSearchMessage</code> of performative <code>OefSearchMessage.Performative.OEF_ERROR</code> and indicate the error operation encountered:
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">OefErrorOperation</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>

    <span class="sd">"""This class represents an instance of OefErrorOperation."""</span>
    <span class="n">REGISTER_SERVICE</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">UNREGISTER_SERVICE</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">SEARCH_SERVICES</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">SEND_MESSAGE</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="n">OTHER</span> <span class="o">=</span> <span class="mi">10000</span>
</code></pre></div></p>
</li>
</ul>
<h2 id="fetchaifipa100-protocol"><code>fetchai/fipa:1.0.0</code> protocol</h2>
<p>This protocol provides classes and functions necessary for communication between AEAs via a variant of the <a href="https://en.wikipedia.org/wiki/Foundation_for_Intelligent_Physical_Agents" target="_blank">FIPA</a> Agent Communication Language.</p>
<p>The <code>fetchai/fipa:1.0.0</code> protocol definition includes a <code>FipaMessage</code> with the following performatives:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Performative</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="sd">"""Performatives for the fipa protocol."""</span>

    <span class="n">ACCEPT</span> <span class="o">=</span> <span class="s2">"accept"</span>
    <span class="n">ACCEPT_W_INFORM</span> <span class="o">=</span> <span class="s2">"accept_w_inform"</span>
    <span class="n">CFP</span> <span class="o">=</span> <span class="s2">"cfp"</span>
    <span class="n">DECLINE</span> <span class="o">=</span> <span class="s2">"decline"</span>
    <span class="n">END</span> <span class="o">=</span> <span class="s2">"end"</span>
    <span class="n">INFORM</span> <span class="o">=</span> <span class="s2">"inform"</span>
    <span class="n">MATCH_ACCEPT</span> <span class="o">=</span> <span class="s2">"match_accept"</span>
    <span class="n">MATCH_ACCEPT_W_INFORM</span> <span class="o">=</span> <span class="s2">"match_accept_w_inform"</span>
    <span class="n">PROPOSE</span> <span class="o">=</span> <span class="s2">"propose"</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Get the string representation."""</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>
</code></pre></div>
<p><code>FipaMessages</code> are constructed with a <code>performative</code>, <code>dialogue_reference</code>, <code>message_id</code>, and <code>target</code> as well as the <code>kwargs</code> specific to each message performative.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">performative</span><span class="p">:</span> <span class="n">Performative</span><span class="p">,</span>
    <span class="n">dialogue_reference</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s2">""</span><span class="p">,</span> <span class="s2">""</span><span class="p">),</span>
    <span class="n">message_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">target</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>
<p>The <code>fetchai/fipa:1.0.0</code> protocol also defines a <code>FipaDialogue</code> class which specifies the valid reply structure and provides other helper methods to maintain dialogues.</p>
<p>For examples of the usage of the <code>fetchai/fipa:1.0.0</code> protocol check out the <a href="https://docs.fetch.ai/aea/generic-skills-step-by-step/" target="_blank"> generic skills step by step guide</a>.</p>
<h3 id="fipa-dialogue">Fipa dialogue</h3>
<p>Below, we give an example of a dialogue between two agents. In practice; both dialogues would be maintained in the respective agent.</p>
<p>We first create concrete implementations of <code>FipaDialogue</code> and <code>FipaDialogues</code> for the buyer and seller:
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">aea.common</span> <span class="kn">import</span> <span class="n">Address</span>
<span class="kn">from</span> <span class="nn">aea.helpers.search.models</span> <span class="kn">import</span> <span class="n">Constraint</span><span class="p">,</span> <span class="n">ConstraintType</span><span class="p">,</span> <span class="n">Description</span><span class="p">,</span> <span class="n">Query</span>
<span class="kn">from</span> <span class="nn">aea.mail.base</span> <span class="kn">import</span> <span class="n">Envelope</span>
<span class="kn">from</span> <span class="nn">aea.protocols.base</span> <span class="kn">import</span> <span class="n">Message</span>
<span class="kn">from</span> <span class="nn">aea.protocols.dialogue.base</span> <span class="kn">import</span> <span class="n">Dialogue</span> <span class="k">as</span> <span class="n">BaseDialogue</span>
<span class="kn">from</span> <span class="nn">aea.protocols.dialogue.base</span> <span class="kn">import</span> <span class="n">DialogueLabel</span>

<span class="kn">from</span> <span class="nn">packages.fetchai.protocols.fipa.dialogues</span> <span class="kn">import</span> <span class="n">FipaDialogue</span><span class="p">,</span> <span class="n">FipaDialogues</span>
<span class="kn">from</span> <span class="nn">packages.fetchai.protocols.fipa.message</span> <span class="kn">import</span> <span class="n">FipaMessage</span>


<span class="k">class</span> <span class="nc">BuyerDialogue</span><span class="p">(</span><span class="n">FipaDialogue</span><span class="p">):</span>
    <span class="sd">"""The dialogue class maintains state of a dialogue and manages it."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">dialogue_label</span><span class="p">:</span> <span class="n">DialogueLabel</span><span class="p">,</span>
        <span class="n">self_address</span><span class="p">:</span> <span class="n">Address</span><span class="p">,</span>
        <span class="n">role</span><span class="p">:</span> <span class="n">BaseDialogue</span><span class="o">.</span><span class="n">Role</span><span class="p">,</span>
        <span class="n">message_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">FipaMessage</span><span class="p">]</span> <span class="o">=</span> <span class="n">FipaMessage</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">"""</span>
<span class="sd">        Initialize a dialogue.</span>

<span class="sd">        :param dialogue_label: the identifier of the dialogue</span>
<span class="sd">        :param self_address: the address of the entity for whom this dialogue is maintained</span>
<span class="sd">        :param role: the role of the agent this dialogue is maintained for</span>

<span class="sd">        :return: None</span>
<span class="sd">        """</span>
        <span class="n">FipaDialogue</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">dialogue_label</span><span class="o">=</span><span class="n">dialogue_label</span><span class="p">,</span>
            <span class="n">self_address</span><span class="o">=</span><span class="n">self_address</span><span class="p">,</span>
            <span class="n">role</span><span class="o">=</span><span class="n">role</span><span class="p">,</span>
            <span class="n">message_class</span><span class="o">=</span><span class="n">message_class</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">proposal</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: Optional[Description]</span>


<span class="k">class</span> <span class="nc">BuyerDialogues</span><span class="p">(</span><span class="n">FipaDialogues</span><span class="p">):</span>
    <span class="sd">"""The dialogues class keeps track of all dialogues."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">self_address</span><span class="p">:</span> <span class="n">Address</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">"""</span>
<span class="sd">        Initialize dialogues.</span>

<span class="sd">        :return: None</span>
<span class="sd">        """</span>
        <span class="k">def</span> <span class="nf">role_from_first_message</span><span class="p">(</span>
            <span class="n">message</span><span class="p">:</span> <span class="n">Message</span><span class="p">,</span> <span class="n">receiver_address</span><span class="p">:</span> <span class="n">Address</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseDialogue</span><span class="o">.</span><span class="n">Role</span><span class="p">:</span>
            <span class="sd">"""Infer the role of the agent from an incoming/outgoing first message</span>

<span class="sd">            :param message: an incoming/outgoing first message</span>
<span class="sd">            :param receiver_address: the address of the receiving agent</span>
<span class="sd">            :return: The role of the agent</span>
<span class="sd">            """</span>
            <span class="k">return</span> <span class="n">BaseFipaDialogue</span><span class="o">.</span><span class="n">Role</span><span class="o">.</span><span class="n">BUYER</span>

        <span class="n">FipaDialogues</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">self_address</span><span class="o">=</span><span class="n">self_address</span><span class="p">,</span>
            <span class="n">role_from_first_message</span><span class="o">=</span><span class="n">role_from_first_message</span><span class="p">,</span>
            <span class="n">dialogue_class</span><span class="o">=</span><span class="n">FipaDialogue</span><span class="p">,</span>
        <span class="p">)</span>


<span class="k">class</span> <span class="nc">SellerDialogue</span><span class="p">(</span><span class="n">FipaDialogue</span><span class="p">):</span>
    <span class="sd">"""The dialogue class maintains state of a dialogue and manages it."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">dialogue_label</span><span class="p">:</span> <span class="n">DialogueLabel</span><span class="p">,</span>
        <span class="n">self_address</span><span class="p">:</span> <span class="n">Address</span><span class="p">,</span>
        <span class="n">role</span><span class="p">:</span> <span class="n">BaseDialogue</span><span class="o">.</span><span class="n">Role</span><span class="p">,</span>
        <span class="n">message_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">FipaMessage</span><span class="p">]</span> <span class="o">=</span> <span class="n">FipaMessage</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">"""</span>
<span class="sd">        Initialize a dialogue.</span>

<span class="sd">        :param dialogue_label: the identifier of the dialogue</span>
<span class="sd">        :param self_address: the address of the entity for whom this dialogue is maintained</span>
<span class="sd">        :param role: the role of the agent this dialogue is maintained for</span>

<span class="sd">        :return: None</span>
<span class="sd">        """</span>
        <span class="n">FipaDialogue</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">dialogue_label</span><span class="o">=</span><span class="n">dialogue_label</span><span class="p">,</span>
            <span class="n">self_address</span><span class="o">=</span><span class="n">self_address</span><span class="p">,</span>
            <span class="n">role</span><span class="o">=</span><span class="n">role</span><span class="p">,</span>
            <span class="n">message_class</span><span class="o">=</span><span class="n">message_class</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">proposal</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: Optional[Description]</span>


<span class="k">class</span> <span class="nc">SellerDialogues</span><span class="p">(</span><span class="n">FipaDialogues</span><span class="p">):</span>
    <span class="sd">"""The dialogues class keeps track of all dialogues."""</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">self_address</span><span class="p">:</span> <span class="n">Address</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">"""</span>
<span class="sd">        Initialize dialogues.</span>

<span class="sd">        :return: None</span>
<span class="sd">        """</span>
        <span class="k">def</span> <span class="nf">role_from_first_message</span><span class="p">(</span>
            <span class="n">message</span><span class="p">:</span> <span class="n">Message</span><span class="p">,</span> <span class="n">receiver_address</span><span class="p">:</span> <span class="n">Address</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">BaseDialogue</span><span class="o">.</span><span class="n">Role</span><span class="p">:</span>
            <span class="sd">"""Infer the role of the agent from an incoming/outgoing first message</span>

<span class="sd">            :param message: an incoming/outgoing first message</span>
<span class="sd">            :param receiver_address: the address of the receiving agent</span>
<span class="sd">            :return: The role of the agent</span>
<span class="sd">            """</span>
            <span class="k">return</span> <span class="n">FipaDialogue</span><span class="o">.</span><span class="n">Role</span><span class="o">.</span><span class="n">SELLER</span>

        <span class="n">FipaDialogues</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">self_address</span><span class="o">=</span><span class="n">self_address</span><span class="p">,</span>
            <span class="n">role_from_first_message</span><span class="o">=</span><span class="n">role_from_first_message</span><span class="p">,</span>
            <span class="n">dialogue_class</span><span class="o">=</span><span class="n">FipaDialogue</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></p>
<p>Next, we can imitate a dialogue between the buyer and the seller. We first instantiate the dialogues models:
<div class="highlight"><pre><span></span><code><span class="n">buyer_address</span> <span class="o">=</span> <span class="s2">"buyer_address_stub"</span>
<span class="n">seller_address</span> <span class="o">=</span> <span class="s2">"seller_address_stub"</span>
<span class="n">buyer_dialogues</span> <span class="o">=</span> <span class="n">BuyerDialogues</span><span class="p">(</span><span class="n">buyer_address</span><span class="p">)</span>
<span class="n">seller_dialogues</span> <span class="o">=</span> <span class="n">SellerDialogues</span><span class="p">(</span><span class="n">seller_address</span><span class="p">)</span>
</code></pre></div></p>
<p>First, the buyer creates a message destined for the seller and updates the dialogues:
<div class="highlight"><pre><span></span><code><span class="n">cfp_msg</span> <span class="o">=</span> <span class="n">FipaMessage</span><span class="p">(</span>
    <span class="n">message_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">dialogue_reference</span><span class="o">=</span><span class="n">buyer_dialogues</span><span class="o">.</span><span class="n">new_self_initiated_dialogue_reference</span><span class="p">(),</span>
    <span class="n">target</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">performative</span><span class="o">=</span><span class="n">FipaMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">CFP</span><span class="p">,</span>
    <span class="n">query</span><span class="o">=</span><span class="n">Query</span><span class="p">([</span><span class="n">Constraint</span><span class="p">(</span><span class="s2">"something"</span><span class="p">,</span> <span class="n">ConstraintType</span><span class="p">(</span><span class="s2">"&gt;"</span><span class="p">,</span> <span class="mi">1</span><span class="p">))]),</span>
<span class="p">)</span>
<span class="n">cfp_msg</span><span class="o">.</span><span class="n">counterparty</span> <span class="o">=</span> <span class="n">seller_addr</span>

<span class="c1"># Extends the outgoing list of messages.</span>
<span class="n">buyer_dialogue</span> <span class="o">=</span> <span class="n">buyer_dialogues</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">cfp_msg</span><span class="p">)</span>
</code></pre></div>
If the message has been correctly constructed, the <code>buyer_dialogue</code> will be returned, otherwise it will be <code>None</code>.</p>
<p>In a skill, the message could now be sent:
<div class="highlight"><pre><span></span><code><span class="c1"># In a skill we would do:</span>
<span class="c1"># self.context.outbox.put_message(message=cfp_msg)</span>
</code></pre></div></p>
<p>However, here we simply continue with the seller:
<div class="highlight"><pre><span></span><code><span class="c1"># change the incoming message field &amp; counterparty</span>
<span class="n">cfp_msg</span><span class="o">.</span><span class="n">is_incoming</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">cfp_msg</span><span class="o">.</span><span class="n">counterparty</span> <span class="o">=</span> <span class="n">buyer_address</span>
</code></pre></div>
In the skill, the above two lines will be done by the framework; you can simply receive the message in the handler.</p>
<p>We update the seller's dialogues model next to generate a new dialogue:
<div class="highlight"><pre><span></span><code><span class="c1"># Creates a new dialogue for the seller side based on the income message.</span>
<span class="n">seller_dialogue</span> <span class="o">=</span> <span class="n">seller_dialogues</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">cfp_msg</span><span class="p">)</span>
</code></pre></div></p>
<p>Next, the seller can generate a proposal:
<div class="highlight"><pre><span></span><code><span class="c1"># Generate a proposal message to send to the buyer.</span>
<span class="n">proposal</span> <span class="o">=</span> <span class="n">Description</span><span class="p">({</span><span class="s2">"foo1"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"bar1"</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="n">message_id</span> <span class="o">=</span> <span class="n">cfp_msg</span><span class="o">.</span><span class="n">message_id</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">target</span> <span class="o">=</span> <span class="n">cfp_msg</span><span class="o">.</span><span class="n">message_id</span>
<span class="n">proposal_msg</span> <span class="o">=</span> <span class="n">FipaMessage</span><span class="p">(</span>
    <span class="n">message_id</span><span class="o">=</span><span class="n">message_id</span><span class="p">,</span>
    <span class="n">dialogue_reference</span><span class="o">=</span><span class="n">seller_dialogue</span><span class="o">.</span><span class="n">dialogue_label</span><span class="o">.</span><span class="n">dialogue_reference</span><span class="p">,</span>
    <span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">,</span>
    <span class="n">performative</span><span class="o">=</span><span class="n">FipaMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">PROPOSE</span><span class="p">,</span>
    <span class="n">proposal</span><span class="o">=</span><span class="n">proposal</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">proposal_msg</span><span class="o">.</span><span class="n">counterparty</span> <span class="o">=</span> <span class="n">cfp_msg</span><span class="o">.</span><span class="n">counterparty</span>

<span class="c1"># Then we update the dialogue</span>
<span class="n">seller_dialogue</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">proposal_msg</span><span class="p">)</span>
</code></pre></div></p>
<p>In a skill, the message could now be sent:
<div class="highlight"><pre><span></span><code><span class="c1"># In a skill we would do:</span>
<span class="c1"># self.context.outbox.put_message(message=proposal_msg)</span>
</code></pre></div></p>
<p>The dialogue can continue like this.</p>
<p>To retrieve a dialogue for a given message, we can do the following:</p>
<div class="highlight"><pre><span></span><code><span class="n">retrieved_dialogue</span> <span class="o">=</span> <span class="n">seller_dialogues</span><span class="o">.</span><span class="n">get_dialogue</span><span class="p">(</span><span class="n">cfp_msg</span><span class="p">)</span>
</code></pre></div>
<p><br/></p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a class="md-flex md-footer-nav__link md-footer-nav__link--prev" href="../connection/" rel="prev" title="Connections">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                Connections
              </span>
</div>
</a>
<a class="md-flex md-footer-nav__link md-footer-nav__link--next" href="../skill/" rel="next" title="Skills">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Skills
              </span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" rel="noopener" target="_blank">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs</a>
</div>
</div>
</div>
</footer>
</div>
<script src="../assets/javascripts/application.c33a9706.js"></script>
<script>app.initialize({version:"1.1",url:{base:".."}})</script>
<script src="https://unpkg.com/mermaid@8.10.1/dist/mermaid.min.js"></script>
</body>
</html>